function insertAndExecute(e, t) { domelement = document.getElementById(e), domelement.innerHTML = t; var n = []; ret = domelement.childNodes; for (var o = 0; ret[o]; o++)!n || !nodeName(ret[o], "script") || ret[o].type && "text/javascript" !== ret[o].type.toLowerCase() || n.push(ret[o].parentNode ? ret[o].parentNode.removeChild(ret[o]) : ret[o]); for (script in n) evalScript(n[script]) } function nodeName(e, t) { return e.nodeName && e.nodeName.toUpperCase() === t.toUpperCase() } function evalScript(e) { data = e.text || e.textContent || e.innerHTML || ""; var t = document.getElementsByTagName("head")[0] || document.documentElement, n = document.createElement("script"); n.type = "text/javascript", n.appendChild(document.createTextNode(data)), t.insertBefore(n, t.firstChild), t.removeChild(n), e.parentNode && e.parentNode.removeChild(e) } function runProgress() { if (0 == j) { j = 1; var e = document.querySelector(".progress-bar"); e.style.width = 0; var t = 1, n = setInterval(function () { t >= 99 ? (clearInterval(n), j = 0) : (t++, e.ariaValueNow = t, e.style.width = t + "%") }, 140) } } function iOS() { return ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(navigator.platform) || navigator.userAgent.includes("Mac") && "ontouchend" in document } function isAndroid() { var e = navigator.userAgent.toLowerCase(); return e.indexOf("android") > -1 } function openModal(e) { e.classList.add("is-active"), document.getElementById("body").style.overflow = "hidden" } function closeModal(e) { e.classList.remove("is-active"), document.getElementById("body").style.overflow = "auto" } function closeAllModals() { (document.querySelectorAll(".modal") || []).forEach(e => { closeModal(e) }) } function showAd(e, t) { let n = document.querySelectorAll('ins[data-vignette-loaded="true"]'); 0 == n.length && iOS() && t.preventDefault(), t.stopPropagation(), openModal(document.getElementById("ad-modal")), document.getElementById("ads-content").innerHTML = '<ins class="adsbygoogle" style="display:block; margin: 0 auto;" data-ad-client="ca-pub-2496545456108734" data-ad-slot="8422982901" data-ad-format="auto" data-full-width-responsive="true"></ins>', (adsbygoogle = window.adsbygoogle || []).push({}), 0 == n.length && iOS() && setTimeout(function () { null != e.getAttribute("href") ? window.location.href = e.getAttribute("href") : sendEvent("Error_Link_Null") }, 1e3) } function showBtnClear() { btnPaste.classList.add("active"), document.querySelector(".btn-paste span").innerHTML = lang.clear } function showAlert(e) { alertEL.classList.add("active"), alertEL.innerHTML = e } function hideAlert(e) { alertEL.classList.remove("active"), alertEL.innerHTML = "" } function toggleLang() { document.querySelectorAll(".navbar-lang")[0].classList.toggle("show"), document.querySelector(".dropdown-lang").classList.toggle("show") } var j = 0, form = document.forms.namedItem("formurl"), progress = document.querySelector(".progress-box"); form.addEventListener("submit", function (e) { sendEvent("get_video_v17"); var t = new FormData(form); progress.classList.add("active"), runProgress(); var n = new XMLHttpRequest; n.open("POST", "abc2.php", !0), n.onload = function (e) { 200 == n.status ? insertAndExecute("js-result", "<script type='text/javascript'>" + n.response + "</script>") : (showAlert("Error " + n.status + " something went wrong."), sendEvent("Error " + n.status)) }, n.send(t), e.preventDefault() }, !1), (document.querySelectorAll(".modal-background, .modal-close, .btn-modal-close") || []).forEach(e => { let t = e.closest(".modal-down"); e.addEventListener("click", () => { closeModal(t) }) }), document.addEventListener("keydown", e => { 27 === (e || window.event).keyCode && closeAllModals() }), isAndroid() && (document.querySelector(".navbar-app").style.display = "flex"); const toggleSwitch = document.querySelector(".btn-darkmode"); toggleSwitch.addEventListener("click", function () { document.body.classList.toggle("dark-theme"); var e = document.body.classList.contains("dark-theme") ? "dark" : "light"; localStorage.setItem("theme", e) }); const btnPaste = document.querySelector(".btn-paste"), inputUrl = document.getElementById("url"); btnPaste.addEventListener("click", function () { btnPaste.classList.contains("active") ? (inputUrl.value = "", navigator.clipboard && (btnPaste.classList.remove("active"), document.querySelector(".btn-paste span").innerHTML = lang.paste)) : navigator.clipboard.readText().then(function (e) { "" != e ? (inputUrl.value = e, showBtnClear()) : showAlert(lang.linkEmpty) }) }), navigator.clipboard && (btnPaste.style.display = "flex"), inputUrl.addEventListener("keyup", function (e) { inputUrl.value.length > 0 && showBtnClear(), hideAlert() }); const alertEL = document.getElementById("alert"), shareButton = document.querySelector(".share-button"); shareButton.addEventListener("click", e => { navigator.share ? navigator.share({ title: "Share SnapTik", url: "https://snaptik.app/" + lang.currentLang }).then(() => { sendEvent("Share_sucs_by_webapi") }).catch(console.error) : sendEvent("Share_webapi_not_support"), sendEvent("share_click_btnShare") });